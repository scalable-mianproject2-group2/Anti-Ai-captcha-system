<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Animal Sound CAPTCHA</title>
    <style>
        body { font-family: Arial; background: #eef2ff; display:flex; justify-content:center; padding:40px; }
        .box { width:450px; background:white; padding:25px; border-radius:14px; box-shadow:0 5px 25px rgba(0,0,0,0.25);}
        select, button { width:100%; padding:12px; border-radius:8px; margin-top:12px; font-size:16px;}
        button { background:#6f2cff; color:white; font-weight:bold;}
        button:hover { background:#5820d9; }
        .result { margin-top:12px; font-size:18px; font-weight:bold; text-align:center;}
        audio { width:100%; margin-top:15px; border-radius:8px; }
        .logo { width:56px; height:56px; border-radius:12px; overflow:hidden; margin-bottom:12px; }
        .logo img { width:100%; height:100%; object-fit:cover; }
    </style>
</head>
<body>
<div class="box">
    <div class="logo">
        <img src="{{ logo_url }}" alt="logo">
    </div>

    <h2>ðŸŽ§ Animal Sound CAPTCHA</h2>

    {% if audio_file %}
        <audio controls>
            <source src="{{ url_for('send_audio', filename=audio_file) }}" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>

        <form method="POST" action="{{ url_for('check') }}" style="margin-top:15px;">
            <input type="hidden" name="ground_truth" value="{{ ground_truth }}">
            <select name="selected" required>
                <option value="">Which animal sound was this?</option>
                {% for a in options %}
                <option value="{{ a }}">{{ a.title() }}</option>
                {% endfor %}
            </select>
            <button type="submit">Verify</button>
        </form>
    {% endif %}

    {% if result %}
        <div class="result">{{ result }}</div>
    {% endif %}
</div>
</body>
</html>
